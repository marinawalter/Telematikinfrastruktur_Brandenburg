/*
 SoSci Survey GmbH
*/
function SoSciEnhancedInputs(){function p(a,e){var b;this.readStatus=function(){b=a.checked};SoSciTools.attachEvent(a,"click",function(c){SoSciTools.inputsDisabled||(b&&a.checked&&(a.checked=!1),e.updateGroup(a))});window.PointerEvent?a.addEventListener("pointerdown",this.readStatus,!0):SoSciTools.attachEvent(a,["mousedown","touchstart"],this.readStatus);this.readStatus()}function q(){var a=[],e=[];this.registerButton=function(b){var c=a.length,d=b.getAttribute("name");a[c]=new p(b,this);e[d]||(e[d]=
[]);e[d].push(a[c])};this.updateGroup=function(b){b=b.getAttribute("name");if(b=e[b])for(var c=0;c<b.length;c++)b[c].readStatus()}}function m(a){if(1!==a.nodeType)return!1;a.classList||(a.classList=SoSciTools.classList(a));return"LABEL"===a.nodeName||"INPUT"===a.nodeName||"TEXTAREA"===a.nodeName||"SELECT"===a.nodeName||"OPTION"===a.nodeName||"A"===a.nodeName||"BUTTON"===a.nodeName||a.classList.contains("s2mIgnore")}function n(a,e){if(SoSciTools.getSender(a)!==e){if(document.createEvent){var b=document.createEvent("MouseEvents");
b.initMouseEvent(a.type,a.bubbles,a.cancelable,window,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);e.dispatchEvent(b)}else document.createEventObject&&e.fireEvent("onclick");e.focus();return SoSciTools.stopEvent(a)}}function r(a){var e=SoSciTools.getSender(a);if(!m(e)){var b=32,c=null,d=SoSciTools.getMousePos(a);if("undefined"!==typeof d){for(var g=document.getElementById("questionnaireForm"),h,f,l=0;l<g.elements.length;l++){h=
g.elements[l];if(e===h)return;if(!h.disabled&&null!==h.offsetParent&&"INPUT"===h.nodeName&&("radio"===h.type||"checkbox"===h.type)){f=h;f.parentNode&&"inputCST"===f.parentNode.className&&(f=f.parentNode);var k=SoSciTools.getNodePos(f);k.x+=f.offsetWidth/2;k.y+=f.offsetHeight/2;f=k;32<f.x-d.x||32<d.x-f.x||32<f.y-d.y||32<d.y-f.y||(f=Math.sqrt(Math.pow(f.x-d.x,2)+Math.pow(f.y-d.y,2)),32>f&&f<b&&(b=f,c=h))}}null!==c&&n(a,c)}}}function t(a,e){function b(d){if(!a.disabled){var g=SoSciTools.getSender(d);
if(!m(g))return n(d,a)}}for(var c=0;c<e.length;c++)SoSciTools.attachEvent(e[c],"click",b)}this.initUnselectable=function(){for(var a=document.getElementById("questionnaireForm"),e=new q,b=0;b<a.elements.length;b++){var c=a.elements[b];"radio"===c.getAttribute("type")&&e.registerButton(c)}};this.initSensitive=function(){for(var a=document.getElementById("questionnaireForm"),e=0;e<a.elements.length;e++){var b=a.elements[e],c=b.tagName,d=b.getAttribute("type");if("INPUT"===c&&("radio"===d||"checkbox"===
d)||"SELECT"===c){d=b;c=[];if(d.id){var g=document.getElementById("sense_"+d.id);g&&c.push(g)}for(g=5;d.parentNode&&0<g;)if(d=d.parentNode,g--,1===d.nodeType&&d.className.match(/(^| )sensitive( |$)/)){c.push(d);break}0<c.length&&new t(b,c)}}SoSciTools.attachEvent(a,"click",r)}}SoSciEnhancedInputs.instance=new SoSciEnhancedInputs;