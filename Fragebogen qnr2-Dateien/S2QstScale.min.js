!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.S2QstScale=e():t.S2QstScale=e()}(self,(function(){return function(){"use strict";var t={};function e(t,e,n,o){var r=this;SoSciTools.QuestionWithItems.call(this,t,"scale");var i=[],u=[];function c(t,e){var n=s(e),o=a(e),r=[];for(var i in o){var u=document.getElementById(i);u&&r.push(u)}var c=document.getElementById(n+"_item");SoSciTools.QuestionItem.call(this,e,r,c),function(){for(var t in o){var n=document.getElementById(t);n&&SoSciTools.attachEvent(n,["click","change"],function(t,e,n){return function(e){h(e,t,0,n)}}(e,0,o[t]))}}()}function s(e){var n=String(e);return n.length<2&&(n="0"+n),t+"_"+n}function a(t){for(var e=s(t),r={},i=1;i<=o;i++)r[e+i]=i;for(var u=0;u<n.length;u++){var c=n[u];r[e+"DK"+(0===c?"":c+1)]=-1-c}return r}function l(){for(var t=0;t<e.length;t++)if(-9===r.getValue(e[t]))return!1;return!0}this.getValue=function(t){var e=a(t);for(var n in e){var o=document.getElementById(n);if(o.checked)return parseInt(o.value)}return-9},this.responseComplete=function(){return l()};var f=!1;function h(t,e,n,o){f||(f=!0,window.setTimeout((function(){f=!1}),20),window.setTimeout((function(){!function(t,e,n){(function(t,e,n){if(0!==i.length)for(var o=new CustomEvent("click",{detail:{target:t.target,itemID:e,value:n}}),u=0;u<i.length;u++)i[u].call(r,o)})(t,e,n),null!==v&&v.check()}(t,e,o)}),30))}this.addItems=function(n){for(var o=0;o<n.length;o++){for(var i=0;i<e.length;i++)e[i]!==n[o]||console.warn("Warning: Double-registered item "+n[o]+" for scale "+t);e.push(n[o]);var s=new c(r,n[o]);u.push(s),this.registerItem(s)}};var v=null;this.enableAutosubmit=function(e){if(null!==v)throw"Already registered autosubmit ("+v+") for scale "+t;v=new SoSciTools.AutoSubmitter(e,l)},this.addEventListener=function(t,e){if("click"!==t&&"change"!==t)throw"Can only register listeners for click and change in Scale, no ["+t+"]"},this.addEventListener=function(t,e){if("click"!==t)throw"Invalid event ["+t+"]. S2QstScale only throw the event click";i.push(e)};for(var d=0;d<e.length;d++){var g=new c(this,e[d]);u[d]=g,this.registerItem(g)}}return e.questions={},e.register=function(t,n,o,r){return t in e.questions?e.questions[t].addItems(n):e.questions[t]=new e(t,n,o,r),e.questions[t]},t.default=e,t.default}()}));